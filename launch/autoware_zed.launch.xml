<?xml version="1.0"?>
<launch>
  <!-- Launch arguments -->
  <arg name="use_sim_time" default="false" description="Use simulation clock"/>
  <arg name="front_camera_ns" default="/zed_multi/zed_front" description="Namespace for front camera"/>
  <arg name="back_camera_ns" default="/zed_multi/zed_back" description="Namespace for back camera"/>
  
  <!-- Configuration file path -->
  <let name="config_file" value="$(find-pkg-share autoware_zed)/config/autoware_zed.yaml"/>
  
  <!-- Transformer node for front camera -->
  <node pkg="autoware_zed" exec="autoware_zed_node" name="autoware_zed_front" output="screen">
    <param from="$(var config_file)"/>
    <param name="use_sim_time" value="$(var use_sim_time)"/>
    <param name="input_topic" value="$(var front_camera_ns)/obj_det/objects"/>
    <param name="output_topic" value="/perception/object_recognition/objects/front"/>
  </node>
  
  <!-- Transformer node for back camera -->
  <node pkg="autoware_zed" exec="autoware_zed_node" name="autoware_zed_back" output="screen">
    <param from="$(var config_file)"/>
    <param name="use_sim_time" value="$(var use_sim_time)"/>
    <param name="input_topic" value="$(var back_camera_ns)/obj_det/objects"/>
    <param name="output_topic" value="/perception/object_recognition/objects/back"/>
  </node>
</launch>